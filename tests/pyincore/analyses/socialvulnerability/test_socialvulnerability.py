# This program and the accompanying materials are made available under the
# terms of the Mozilla Public License v2.0 which accompanies this distribution,
# and is available at https://www.mozilla.org/en-US/MPL/2.0/


from pyincore import IncoreClient
from pyincore.analyses.socialvulnerability import SocialVulnerability
import pyincore.globals as pyglobals


def run_with_base_class():
    year = 2019
    state = "kansas"
    county = "douglas"
    census_geo_level = "ct"

    client = IncoreClient(pyglobals.INCORE_API_DEV_URL)
    social_vulnerability = SocialVulnerability(client)

    social_vulnerability.set_parameter("result_name", f"social_vulnerabilty_{state}_{county}_{census_geo_level}")
    social_vulnerability.set_parameter("year", year)
    social_vulnerability.set_parameter("state", state)
    social_vulnerability.set_parameter("county", county)
    social_vulnerability.set_parameter("census_geo_level", census_geo_level)

    # Run pipeline damage analysis
    result = social_vulnerability.run_analysis()


if __name__ == "__main__":
    run_with_base_class()
